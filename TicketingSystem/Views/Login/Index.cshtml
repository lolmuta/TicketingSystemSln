@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = null;
}
登入頁
使用者名稱<input type="text" id="userId" />
使用者密碼<input type="password" id="userPwd" />
<button type="button" onclick="登入();">登入</button>
<button type="button" onclick="取消();">取消</button>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/lib/axios.min.js" asp-append-version="true"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script>
const $userId = $("#userId");
const $userPwd = $("#userPwd");
async function 登入() {
    const userId = $userId.val();
    const userPwd = $userPwd.val();
    try {
        const response = await axios.post('Auth/login', {
            userId: userId,
            userPwd: userPwd
        });
        // 從回應中獲取令牌
        const token = response.data.token;
        // 將令牌存儲在本地存儲中
        localStorage.setItem('token', token);
        window.token = token;
        console.log('登入成功，已存儲令牌到本地存儲');
        // 可以添加重定向或其他操作
        window.location.href = "home/index";

    } catch (error) {
        console.error('登入失敗:', error);
        // 可以添加錯誤處理邏輯
    }
}

</script>